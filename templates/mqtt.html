<!doctype html>
<html>
<head>
	<title>화재 예방 모니터링 쿠킹 타이머</title>
	<meta charset="utf-8">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.2/mqttws31.min.js" type="text/javascript"></script>
	<script src="./static/mqttio.js" type="text/javascript"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js" type="text/javascript"></script>
    <script src="/static/image.js" type="text/javascript"></script>
	<script src="./static/myChart.js" type="text/javascript"></script>
	<script src="./static/audio.js" type="text/javascript"></script>
	<script>
		window.addEventListener("load", function () {
			// http://224..129:8080/에서 224...의 IP만 끊어내는 코드
			var url = new String(document.location);
			ip = (url.split("//"))[1]; // ip = "224...:8080/"
			ip = (ip.split(":"))[0]; // ip = "224..."
			document.getElementById("broker").value = ip
		});
	</script>
</head>
<body>
	<h3>Raspberry Cooking Timer 모니터링 메뉴</h3>
	<hr>
	<form id="connection-form">
		<b>브로커 IP:</b>
		<input id="broker" type="text" name="broker" value=""><br>
		<b>포트 번호 : 9001</b><br>
		<input type="button" onclick="startConnect()" value="Connect">
		<input type="button" onclick="startDisconnect()" value="Disconnect">
	</form>
	<hr>
	<h3>남은 시간</h3>
<div style="border:1px solid #dedede; width:600px; height:250px; line-height:250px; color:#666;font-size:100px; text-align:center;" id="clock">
	</div>
	<hr>
    <h3>CookTimer 카메라(토픽:CookTimer/image)</h3>
         <hr>
         <canvas id="myCanvas" width="320" height="240"></canvas>
      <!--   <div id="messages"></div>
-->
	<hr>
	<h3>온도 그래프(토픽:CookTimer/temperature)</h3>
	<hr>
	<button id="hideshow" onclick="hideshow()">Hide/Show Chart</button>
	<canvas id="canvas" width="600" height="400"></canvas>
<audio loop id = "audio"> <source src="./static/sounds/rooster.mp3" type="audio/mp3"> </audio>
</script>
</body>
</html>
